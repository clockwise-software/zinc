{%extends 'generalPageStyled.html'%}


{%block mainBlock%}
<!-- Do we need to process  with ajax?-->
<!-- not really it is a get and redirecting to a table page is not a bad plan -->

<link rel="stylesheet" href="https://netdna.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css"></link>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.min.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-multiselect/0.9.13/css/bootstrap-multiselect.css"></link>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-multiselect/0.9.13/js/bootstrap-multiselect.js"></script>


<!-- Do we need to process  with ajax?-->
<!-- not really it is a get and redirecting to a table page is not a bad plan -->
<h2>Search for Employees</h2>
<!-- <form id='myForm' action='/Student/InjectionSearch' method = 'post'> -->
<form id='myForm' onsubmit="return loadData()">
  <label>First Name:
  <select id="firstName" multiple="multiple" >
  </select>
    <script type="text/javascript">
        $(document).ready(function() {
            $('#firstName').multiselect();
        });
    </script>

  <label>Last Name:
  <select id="lastName" multiple="multiple" >
  </select>
    <script type="text/javascript">
        $(document).ready(function() {
            $('#lastName').multiselect();
        });
    </script>

  <label>FT/PT/.75:
  <select id="ftpt" multiple="multiple" >
  </select>
    <script type="text/javascript">
        $(document).ready(function() {
            $('#ftpt').multiselect();
        });
    </script>

  <label>Business Unit:
  <select id="businessunit" multiple="multiple" >
  </select>
    <script type="text/javascript">
        $(document).ready(function() {
            $('#businessunit').multiselect();
        });
    </script>

  <label>City:
  <select id="city" multiple="multiple" >
  </select>
    <script type="text/javascript">
        $(document).ready(function() {
            $('#city').multiselect();
        });
    </script>

  <label>State:
  <select id="state" multiple="multiple" >
  </select>   
    <script type="text/javascript">
        $(document).ready(function() {
            $('#state').multiselect();
        });
    </script>

    <label>Career Matrix Title:
  <select id="careerMatrixTitle" multiple="multiple" >
  </select>  
    <script type="text/javascript">
        $(document).ready(function() {
            $('#careerMatrixTitle').multiselect();
        });
    </script>

  <label>Total Years:
  <select id="totalYears" multiple="multiple" >
  </select>   
    <script type="text/javascript">
        $(document).ready(function() {
            $('#totalYears').multiselect();
        });
    </script>

  <label>Registered Licenses:
  <select id="resgisteredLicenses" multiple="multiple" >
  </select>
    <script type="text/javascript">
        $(document).ready(function() {
            $('#resgisteredLicenses').multiselect();
        });
    </script>

  <label>Skill:
  <select id="skill" multiple="multiple" >
  </select>
    <script type="text/javascript">
        $(document).ready(function() {
            $('#skill').multiselect();
        });
    </script>

  <label>Skill Years:
  <select id="skillYears" multiple="multiple" >
  </select>   
    <script type="text/javascript">
        $(document).ready(function() {
            $('#skillYears').multiselect();
        });
    </script>
<button type = "submit">submit</button>
</form>



<script> 
function loadData() 
{
    var firstName = document.forms["myForm"]["firstName"].value;
    var lastName = document.forms["myForm"]["lastName"].value; 
    var ftpt = document.forms["myForm"]["ftpt"].value; 
    var businessunit = document.forms["myForm"]["businessunit"].value; 
    var city = document.forms["myForm"]["city"].value;
    var state = document.forms["myForm"]["state"].value; 
    var careerMatrixTitle = document.forms["myForm"]["careerMatrixTitle"].value; 
    var totalYears = document.forms["myForm"]["totalYears"].value; 
    var registeredLicenses = document.forms["myForm"]["registeredLicenses"].value; 
    var skill = document.forms["myForm"]["skill"].value; 
    var skillLevel = document.forms["myForm"]["skillYears"].value; 

    params = 'firstName='+firstName+'&lastName='+lastName+'&FT/PT/.75='+ftpt+'&bu='+businessunit+'&city='+city+'&state='+state+
    '&cmt='+careerMatrixTitle+'&totalYears='+totalYears+'&registeredLicenses='+registeredLicenses+'&skill='+skill+'&skillLevel='
    +skillLevel; 

    var xhttp = new XMLHttpRequest();
    xhttp.open("POST", '/Employee/Search', true); // true is asynchronous
    xhttp.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
    xhttp.onload = function() {
      if (xhttp.readyState === 4 && xhttp.status === 200) {
        console.log(xhttp.responseText);
        document.getElementById("txt").innerHTML = xhttp.responseText;
      } else {
        console.error(xhttp.statusText);
      }
    };
    xhttp.send(params);
    return false;
}




</script>
{%endblock%}


